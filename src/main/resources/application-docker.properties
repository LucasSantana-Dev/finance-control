# Finance Control - Docker Profile Configuration
# ==============================================

# Application Configuration
app.server.port=${SERVER_PORT:8080}
app.server.context-path=${SERVER_CONTEXT_PATH:}
app.server.max-header-size=${SERVER_MAX_HTTP_HEADER_SIZE:8192}
app.server.max-post-size=${SERVER_MAX_HTTP_POST_SIZE:2097152}

# Database Configuration
app.database.url=${DB_URL:jdbc:postgresql://db}
app.database.port=${DB_PORT:5432}
app.database.name=${DB_NAME:finance_control}
app.database.username=${DB_USERNAME:finance_user}
app.database.password=${DB_PASSWORD:finance_password}
app.database.driver-class-name=org.postgresql.Driver

# Spring Boot JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.physical_naming_strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy
app.database.pool.initial-size=${DB_POOL_INITIAL_SIZE:5}
app.database.pool.max-size=${DB_POOL_MAX_SIZE:20}
app.database.pool.min-idle=${DB_POOL_MIN_IDLE:5}
app.database.pool.max-lifetime=${DB_POOL_MAX_LIFETIME:300000}
app.database.pool.connection-timeout=${DB_POOL_CONNECTION_TIMEOUT:20000}
app.database.pool.idle-timeout=${DB_POOL_IDLE_TIMEOUT:300000}
app.database.pool.leak-detection-threshold=${DB_POOL_LEAK_DETECTION_THRESHOLD:60000}

# JPA/Hibernate Additional Configuration
spring.jpa.properties.hibernate.use_sql_comments=${HIBERNATE_USE_SQL_COMMENTS:false}
spring.jpa.properties.hibernate.jdbc.batch_size=${HIBERNATE_JDBC_BATCH_SIZE:20}
spring.jpa.properties.hibernate.order_inserts=${HIBERNATE_ORDER_INSERTS:true}
spring.jpa.properties.hibernate.order_updates=${HIBERNATE_ORDER_UPDATES:true}
spring.jpa.properties.hibernate.batch_versioned_data=${HIBERNATE_BATCH_VERSIONED_DATA:true}
spring.jpa.properties.hibernate.jdbc.fetch_size=${HIBERNATE_JDBC_FETCH_SIZE:20}
spring.jpa.properties.hibernate.default_batch_fetch_size=${HIBERNATE_DEFAULT_BATCH_FETCH_SIZE:16}

# Security Configuration
app.security.jwt.secret=${JWT_SECRET:your-secret-key-change-in-production-docker}
app.security.jwt.expiration=${JWT_EXPIRATION_MS:86400000}
app.security.jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION_MS:604800000}
app.security.jwt.issuer=${JWT_ISSUER:finance-control}
app.security.jwt.audience=${JWT_AUDIENCE:finance-control-users}
app.security.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:8080,http://localhost:4200}
app.security.cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS}
app.security.cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}
app.security.cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:true}
app.security.cors.max-age=${CORS_MAX_AGE:3600}
app.security.publicEndpoints=/auth/**,/users,/actuator/health,/swagger-ui/**,/v3/api-docs/**

# Logging Configuration
logging.level=${LOGGING_LEVEL:DEBUG}
logging.pattern.console=${LOGGING_PATTERN:%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n}
logging.file.path=${LOGGING_FILE_PATH:logs}
logging.file.name=${LOGGING_FILE_NAME:finance-control.log}
logging.logback.rollingpolicy.max-file-size=${LOGGING_MAX_FILE_SIZE:10485760}
logging.logback.rollingpolicy.max-history=${LOGGING_MAX_HISTORY:30}
logging.logback.rollingpolicy.total-size-cap=100MB

# Flyway Configuration
spring.flyway.enabled=${FLYWAY_ENABLED:true}
spring.flyway.locations=${FLYWAY_LOCATIONS:classpath:db/migration}
spring.flyway.baseline-on-migrate=${FLYWAY_BASELINE_ON_MIGRATE:false}
spring.flyway.baseline-version=${FLYWAY_BASELINE_VERSION:0}
spring.flyway.validate-on-migrate=${FLYWAY_VALIDATE_ON_MIGRATE:true}
spring.flyway.out-of-order=${FLYWAY_OUT_OF_ORDER:false}
spring.flyway.clean-disabled=${FLYWAY_CLEAN_DISABLED:true}
spring.flyway.clean-on-validation-error=${FLYWAY_CLEAN_ON_VALIDATION_ERROR:false}

# Actuator Configuration
management.endpoints.web.exposure.include=${ACTUATOR_ENDPOINTS:health,info,metrics,env}
management.endpoints.web.base-path=${ACTUATOR_BASE_PATH:/actuator}
management.endpoint.health.show-details=${ACTUATOR_EXPOSE_HEALTH_DETAILS:true}

# OpenAPI Configuration
springdoc.api-docs.title=${OPENAPI_TITLE:Finance Control API}
springdoc.api-docs.description=${OPENAPI_DESCRIPTION:API for managing personal finances}
springdoc.api-docs.version=${OPENAPI_VERSION:1.0.0}
springdoc.swagger-ui.title=${OPENAPI_TITLE:Finance Control API}
springdoc.swagger-ui.description=${OPENAPI_DESCRIPTION:API for managing personal finances}
springdoc.swagger-ui.version=${OPENAPI_VERSION:1.0.0}
springdoc.swagger-ui.path=/swagger-ui.html

# Pagination Configuration
app.pagination.default-page-size=${PAGINATION_DEFAULT_PAGE_SIZE:10}
app.pagination.max-page-size=${PAGINATION_MAX_PAGE_SIZE:100}
app.pagination.default-sort=${PAGINATION_DEFAULT_SORT:id}
app.pagination.default-direction=${PAGINATION_DEFAULT_DIRECTION:ASC}

# Development Configuration
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false
