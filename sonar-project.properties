# SonarQube Configuration for Finance Control Project

# SonarQube Server Configuration
sonar.host.url=${env.SONAR_HOST_URL:http://localhost:9000}

# Project identification
sonar.projectKey=finance-control
sonar.projectName=Finance Control
sonar.projectVersion=0.0.1-SNAPSHOT

# Source code location
sonar.sources=src/main/java
sonar.tests=src/test/java

# Java version
sonar.java.source=21
sonar.java.target=21

# Encoding
sonar.sourceEncoding=UTF-8

# Coverage and test reports
sonar.coverage.jacoco.xmlReportPaths=build/reports/jacoco/test/jacocoTestReport.xml
sonar.junit.reportPaths=build/test-results/test

# Exclusions
sonar.exclusions=**/target/**,**/generated/**,**/config/**,**/dto/**,**/model/**,**/exception/**,**/enums/**,**/util/**,**/validation/**
sonar.test.exclusions=**/target/**,**/generated/**

# Quality Gate
sonar.qualitygate.wait=true

# Analysis settings
sonar.analysis.mode=publish
sonar.verbose=false

# Security hotspots
sonar.security.hotspots.timeout=300

# Duplicate code detection
sonar.cpd.java.minimumTokens=100

# Complexity thresholds
sonar.complexity.function.threshold=10
sonar.complexity.class.threshold=20

# Size thresholds
sonar.size.limit.function=150
sonar.size.limit.class=2000

# Comment density
sonar.commentdensity.minimum=10

# Maintainability
sonar.maintainability.rating.a=0
sonar.maintainability.rating.b=5
sonar.maintainability.rating.c=10
sonar.maintainability.rating.d=20

# Reliability
sonar.reliability.rating.a=0
sonar.reliability.rating.b=1
sonar.reliability.rating.c=2
sonar.reliability.rating.d=4

# Security
sonar.security.rating.a=0
sonar.security.rating.b=1
sonar.security.rating.c=2
sonar.security.rating.d=4

# Security hotspots
sonar.security.hotspots.rating.a=0
sonar.security.hotspots.rating.b=1
sonar.security.hotspots.rating.c=2
sonar.security.hotspots.rating.d=4

# Coverage thresholds
sonar.coverage.exclusions=**/config/**,**/dto/**,**/model/**,**/exception/**,**/enums/**,**/util/**,**/validation/**,**/FinanceControlApplication.java

# Test coverage thresholds
sonar.test.inclusions=**/*Test.java,**/*Tests.java
sonar.test.coverage.minimum=80

# Duplicate code thresholds
sonar.duplicated.lines.density.minimum=3

# Technical debt
sonar.technicalDebt.hoursInDay=8
sonar.technicalDebt.rating.a=0
sonar.technicalDebt.rating.b=1
sonar.technicalDebt.rating.c=2
sonar.technicalDebt.rating.d=4

# Language specific settings
sonar.java.binaries=build/classes/java/main
sonar.java.libraries=build/libs/*.jar

# Plugin settings
sonar.java.checkstyle.reportPaths=build/reports/checkstyle/main/checkstyle.xml
sonar.java.pmd.reportPaths=build/reports/pmd/main/pmd.xml
sonar.java.spotbugs.reportPaths=build/reports/spotbugs/main/spotbugs.xml

# Custom rules
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5,e6

# Custom rule to detect inline imports
sonar.issue.ignore.multicriteria.e6.ruleKey=squid:S00100
sonar.issue.ignore.multicriteria.e6.resourceKey=**/*.java

# Ignore specific issues
sonar.issue.ignore.multicriteria.e1.ruleKey=squid:S1192
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java

sonar.issue.ignore.multicriteria.e2.ruleKey=squid:S00100
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.java

sonar.issue.ignore.multicriteria.e3.ruleKey=squid:S00101
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*.java

sonar.issue.ignore.multicriteria.e4.ruleKey=squid:S00105
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*.java

sonar.issue.ignore.multicriteria.e5.ruleKey=squid:S00107
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*.java
